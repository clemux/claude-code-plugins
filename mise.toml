[tools]
"pipx:commitizen" = "latest"
"pipx:ruff" = "latest"
"pipx:pylint" = "latest"

[tasks.lint]
description = "Run shellcheck on shell scripts and ruff/pylint on Python scripts"
run = [
  "shellcheck safer-git/hooks/guard-git.sh subagent-metrics/hooks/log-subagent-usage.sh",
  "ruff check .",
  "pylint --fail-under=8.0 subagent-metrics/metrics.py test-runner/scripts/compare_results.py"
]

[tasks.validate]
description = "Validate marketplace structure"
run = "claude plugin validate ."

[tasks."bump:safer-git"]
description = "Bump safer-git version"
run = "cz --config safer-git/.cz.toml bump --yes"

[tasks."bump:subagent-metrics"]
description = "Bump subagent-metrics version"
run = "cz --config subagent-metrics/.cz.toml bump --yes"
